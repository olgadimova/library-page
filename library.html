<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Library</title>
  <link href="https://fonts.googleapis.com/css?family=Lobster|Roboto" rel="stylesheet">
  <style>
  html { 
  height: 100%;
   box-sizing: border-box;
   justify-content: center;
   align-items: center;
   text-align: center;
   font-family: 'Lobster', cursive;
   font-size: 20px;
   margin: auto;
   }

   body {
  
   background: url(brickwall.png) repeat;
   }

   .content {
    align-items: center;
   text-align: center;
   margin-left: 20%;
   margin-right: 20%;
   margin-top: 20%;
   margin-bottom: 20%;
   font-family: 'Roboto', sans-serif;
   }


  div.full_form {
  border: 2px dashed darkred;
  }
  #allBooks {
  list-style: inside square;
  list-style-type: decimal;
  font-size: 20px;
  margin-top: 20px;
  padding-left: 0px;
  }

  #allBooks li {
  text-align: center;
  }

  form.library_form {
  display: none;
  text-align: center;
  justify-content: center;
  align-items: center;
  }

  input {
  background-color: white;
  text-align: center;
  }
</style>

</head>
<body>
<div class="content">
  <h1>Welcome to my library!</h1> 
  <div class = "full_form">
    <p>Check the books out here:</p>

    <form class="library_form">
  <label  name="title">Title</label>
  <input  id="booktitle" name ="title" type="text" required> <br>
  <label  name="author">Author</label>
  <input  id="bookauthor" name ="author" type="text" required> <br>
    </form>

  <button id="form_showbutton" for="library_form" value="ShowForm" type="submit">Show Form</button>
  <button id="form_hidebutton" for="library_form" value="HideForm" type="submit">Hide Form</button>
  <input id = "addButton" type = "button" value="Add" /> 
  <input id="allButton" type = "button" value="All" onclick="showAll(myLibrary)"/>

  <ul id = "allBooks"></ul>
  </div>

</div> 

<script>
const myLibrary = [];
const addButton = document.getElementById("addButton");
const formShowButton = document.getElementById('form_showbutton');
const formHideButton = document.getElementById('form_hidebutton');

function addBookToLibrary(e) {
  e.preventDefault();
  const bookTitle = (document.querySelector('#booktitle')).value;
  const bookAuthor = (document.querySelector('#bookauthor')).value;
  const item = {
    bookTitle,
    bookAuthor
  };
  myLibrary.push(item);
  localStorage.setItem('myLibrary', JSON.stringify(myLibrary));
}

function showForm() {
  const libraryForm = document.querySelector('form.library_form');
  if(libraryForm.style.display = "none") {
    libraryForm.style.display = "block";
  }
  }

function hideForm() {
  const libraryForm = document.querySelector('form.library_form');
  if(libraryForm.style.display = "block") {
    libraryForm.style.display = "none";
  }
  }

function showAll() {
  document.querySelector("#allBooks").innerHTML = myLibrary.map((item, i) => {
  return `<li>
  <label for="item${i}">${item.bookTitle} by ${item.bookAuthor}</label>
  </li>`
  }).join('');
}

addButton.addEventListener('click', addBookToLibrary);
formShowButton.addEventListener('click', showForm);
formHideButton.addEventListener('click', hideForm);
</script>
</body>
</html> 